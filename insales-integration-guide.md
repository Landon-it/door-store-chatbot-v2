# Инструкция по интеграции чат-бота в InSales

Чтобы ваш бот начал работать на сайте и предлагать реальные товары, выполните следующие шаги.

## Шаг 1: Загрузка файлов
Вам необходимо загрузить файлы бота на хостинг или в раздел "Файлы" вашего InSales (Настройки -> Файлы).
Список необходимых файлов:
1. `config.js`
2. `knowledge-base.js`
3. `insales-bridge.js` (новый файл для связи с каталогом)
4. `chatbot.js`
5. `styles.css`

## Шаг 2: Вставка кода на сайт
Перейдите в раздел **Сайт -> Редактор темы -> layout.liquid** (или другой основной файл разметки вашей темы).

Перед закрывающим тегом `</body>` вставьте следующий код:

```html
<!-- Контейнер для чат-бота -->
<div id="bot-integration-root"></div>

<!-- Подключение стилей -->
<link rel="stylesheet" href="path/to/your/styles.css">

<!-- Подключение логики -->
<script src="path/to/your/config.js"></script>
<script src="path/to/your/knowledge-base.js"></script>
<script src="path/to/your/insales-bridge.js"></script>
<script src="path/to/your/chatbot.js"></script>

<script>
  // Инициализация при необходимости, если вы используете React/Vue, 
  // но данный бот на Vanilla JS и запустится сам при загрузке chatbot.js
</script>
```
*Замените `path/to/your/` на реальные ссылки на файлы в вашем хранилище.*

## Шаг 3: Настройка API
Убедитесь, что в `config.js` указан ваш API-ключ Groq. Бот будет использовать его для анализа вашего каталога и ответов клиентам.

## Как это работает
1. **Синхронизация**: При первой загрузке страницы `insales-bridge.js` обращается к вашему сайту по адресу `/collection/all.json`.
2. **Кэширование**: Список товаров сохраняется в браузере клиента на 1 час, чтобы не нагружать ваш сайт.
3. **Поиск**: Когда клиент спрашивает, например, "Есть ли у вас белые двери?", бот ищет в локальном кэше все товары со словом "белая" и "дверь".
4. **Ответ**: Бот передает найденные товары (названия, цены, ссылки) нейросети, которая составляет красивый ответ со ссылками.

---
Если у вас возникнут вопросы по установке кода в конкретную тему InSales, напишите мне!
